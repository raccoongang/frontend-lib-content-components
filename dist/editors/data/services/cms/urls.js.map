{"version":3,"file":"urls.js","names":["libraryV1","_ref","studioEndpointUrl","learningContextId","exports","unit","_ref2","unitUrl","data","ancestors","id","returnUrl","_ref3","startsWith","Error","block","_ref4","blockId","includes","blockAncestor","_ref5","blockStudioView","_ref6","courseAssets","_ref7","thumbnailUpload","_ref8","videoId","videoTranscripts","_ref9","downloadVideoTranscriptURL","_ref10","language","mediaTranscriptURL","_ref11","transcriptUrl","downloadVideoHandoutUrl","_ref12","handout","courseDetailsUrl","_ref13","checkTranscriptsForImport","_ref14","parameters","replaceTranscript","_ref15","courseAdvanceSettings","_ref16","videoFeatures","_ref17","courseVideos","_ref18"],"sources":["../../../../../src/editors/data/services/cms/urls.js"],"sourcesContent":["export const libraryV1 = ({ studioEndpointUrl, learningContextId }) => (\n  `${studioEndpointUrl}/library/${learningContextId}`\n);\n\nexport const unit = ({ studioEndpointUrl, unitUrl }) => (\n  `${studioEndpointUrl}/container/${unitUrl.data.ancestors[0]?.id}`\n);\n\nexport const returnUrl = ({ studioEndpointUrl, unitUrl, learningContextId }) => {\n  if (learningContextId && learningContextId.startsWith('library-v1')) {\n    // when the learning context is a v1 library, return to the library page\n    return libraryV1({ studioEndpointUrl, learningContextId });\n  }\n  if (learningContextId && learningContextId.startsWith('lib')) {\n    // when it's a v2 library, there will be no return url (instead a closed popup)\n    throw new Error('Return url not available (or needed) for V2 libraries');\n  }\n  // when the learning context is a course, return to the unit page\n  if (unitUrl) {\n    return unit({ studioEndpointUrl, unitUrl });\n  }\n  return '';\n};\n\nexport const block = ({ studioEndpointUrl, blockId }) => (\n  blockId.includes('block-v1')\n    ? `${studioEndpointUrl}/xblock/${blockId}`\n    : `${studioEndpointUrl}/api/xblock/v2/xblocks/${blockId}/fields/`\n);\n\nexport const blockAncestor = ({ studioEndpointUrl, blockId }) => {\n  if (blockId.includes('block-v1')) {\n    return `${block({ studioEndpointUrl, blockId })}?fields=ancestorInfo`;\n  }\n  // this url only need to get info to build the return url, which isn't used by V2 blocks\n  throw new Error('Block ancestor not available (and not needed) for V2 blocks');\n};\n\nexport const blockStudioView = ({ studioEndpointUrl, blockId }) => (\n  blockId.includes('block-v1')\n    ? `${block({ studioEndpointUrl, blockId })}/studio_view`\n    : `${studioEndpointUrl}/api/xblock/v2/xblocks/${blockId}/view/studio_view/`\n);\n\nexport const courseAssets = ({ studioEndpointUrl, learningContextId }) => (\n  `${studioEndpointUrl}/assets/${learningContextId}/?page_size=500`\n);\n\nexport const thumbnailUpload = ({ studioEndpointUrl, learningContextId, videoId }) => (\n  `${studioEndpointUrl}/video_images/${learningContextId}/${videoId}`\n);\n\nexport const videoTranscripts = ({ studioEndpointUrl, blockId }) => (\n  `${block({ studioEndpointUrl, blockId })}/handler/studio_transcript/translation`\n);\n\nexport const downloadVideoTranscriptURL = ({ studioEndpointUrl, blockId, language }) => (\n  `${videoTranscripts({ studioEndpointUrl, blockId })}?language_code=${language}`\n);\n\nexport const mediaTranscriptURL = ({ studioEndpointUrl, transcriptUrl }) => (\n  `${studioEndpointUrl}${transcriptUrl}`\n);\n\nexport const downloadVideoHandoutUrl = ({ studioEndpointUrl, handout }) => (\n  `${studioEndpointUrl}${handout}`\n);\n\nexport const courseDetailsUrl = ({ studioEndpointUrl, learningContextId }) => (\n  `${studioEndpointUrl}/settings/details/${learningContextId}`\n);\n\nexport const checkTranscriptsForImport = ({ studioEndpointUrl, parameters }) => (\n  `${studioEndpointUrl}/transcripts/check?data=${parameters}`\n);\n\nexport const replaceTranscript = ({ studioEndpointUrl, parameters }) => (\n  `${studioEndpointUrl}/transcripts/replace?data=${parameters}`\n);\n\nexport const courseAdvanceSettings = ({ studioEndpointUrl, learningContextId }) => (\n  `${studioEndpointUrl}/api/contentstore/v0/advanced_settings/${learningContextId}`\n);\n\nexport const videoFeatures = ({ studioEndpointUrl }) => (\n  `${studioEndpointUrl}/video_features/`\n);\n\nexport const courseVideos = ({ studioEndpointUrl, learningContextId }) => (\n  `${studioEndpointUrl}/videos/${learningContextId}`\n);\n"],"mappings":"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"}
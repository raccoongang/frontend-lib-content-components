{"version":3,"file":"urls.test.js","names":["_urls","require","describe","studioEndpointUrl","blockId","v2BlockId","learningContextId","courseId","libraryV1Id","language","handout","videoId","parameters","unitUrl","data","ancestors","id","it","expect","returnUrl","toEqual","libraryV1","unit","block","blockAncestor","blockStudioView","courseAssets","thumbnailUpload","videoTranscripts","downloadVideoTranscriptURL","downloadVideoHandoutUrl","courseDetailsUrl","checkTranscriptsForImport","replaceTranscript","courseAdvanceSettings","videoFeatures","courseVideos","transcriptUrl","mediaTranscriptURL"],"sources":["../../../../../src/editors/data/services/cms/urls.test.js"],"sourcesContent":["import {\n  returnUrl,\n  unit,\n  libraryV1,\n  block,\n  blockAncestor,\n  blockStudioView,\n  courseAssets,\n  thumbnailUpload,\n  downloadVideoTranscriptURL,\n  videoTranscripts,\n  downloadVideoHandoutUrl,\n  courseDetailsUrl,\n  checkTranscriptsForImport,\n  replaceTranscript,\n  courseAdvanceSettings,\n  mediaTranscriptURL,\n  videoFeatures,\n  courseVideos,\n} from './urls';\n\ndescribe('cms url methods', () => {\n  const studioEndpointUrl = 'urLgoeStOstudiO';\n  const blockId = 'block-v1-blOckIDTeST123';\n  const v2BlockId = 'blOckIDTeST123';\n  const learningContextId = 'lEarnIngCOntextId123';\n  const courseId = 'course-v1:courseId123';\n  const libraryV1Id = 'library-v1:libaryId123';\n  const language = 'la';\n  const handout = '/aSSet@hANdoUt';\n  const videoId = '123-SOmeVidEOid-213';\n  const parameters = 'SomEParAMEterS';\n\n  describe('return to learning context urls', () => {\n    const unitUrl = {\n      data: {\n        ancestors: [\n          {\n            id: 'unItUrlTEST',\n          },\n        ],\n      },\n    };\n    it('returns the library page when given the library', () => {\n      expect(returnUrl({ studioEndpointUrl, unitUrl, learningContextId: libraryV1Id }))\n        .toEqual(`${studioEndpointUrl}/library/${libraryV1Id}`);\n    });\n    it('returns url with studioEndpointUrl and unitUrl', () => {\n      expect(returnUrl({ studioEndpointUrl, unitUrl, learningContextId: courseId }))\n        .toEqual(`${studioEndpointUrl}/container/${unitUrl.data.ancestors[0].id}`);\n    });\n    it('returns empty string if no unit url', () => {\n      expect(returnUrl({ studioEndpointUrl, unitUrl: null, learningContextId: courseId }))\n        .toEqual('');\n    });\n    it('returns the library page when given the library', () => {\n      expect(libraryV1({ studioEndpointUrl, learningContextId: libraryV1Id }))\n        .toEqual(`${studioEndpointUrl}/library/${libraryV1Id}`);\n    });\n    it('returns url with studioEndpointUrl and unitUrl', () => {\n      expect(unit({ studioEndpointUrl, unitUrl }))\n        .toEqual(`${studioEndpointUrl}/container/${unitUrl.data.ancestors[0].id}`);\n    });\n  });\n  describe('block', () => {\n    it('returns v1 url with studioEndpointUrl and blockId', () => {\n      expect(block({ studioEndpointUrl, blockId }))\n        .toEqual(`${studioEndpointUrl}/xblock/${blockId}`);\n    });\n    it('returns v2 url with studioEndpointUrl and v2BlockId', () => {\n      expect(block({ studioEndpointUrl, blockId: v2BlockId }))\n        .toEqual(`${studioEndpointUrl}/api/xblock/v2/xblocks/${v2BlockId}`);\n    });\n  });\n  describe('blockAncestor', () => {\n    it('returns url with studioEndpointUrl, blockId and ancestor query', () => {\n      expect(blockAncestor({ studioEndpointUrl, blockId }))\n        .toEqual(`${block({ studioEndpointUrl, blockId })}?fields=ancestorInfo`);\n    });\n  });\n  describe('blockStudioView', () => {\n    it('returns url with studioEndpointUrl, blockId and studio_view query', () => {\n      expect(blockStudioView({ studioEndpointUrl, blockId }))\n        .toEqual(`${block({ studioEndpointUrl, blockId })}/studio_view`);\n    });\n  });\n\n  describe('courseAssets', () => {\n    it('returns url with studioEndpointUrl and learningContextId', () => {\n      expect(courseAssets({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/assets/${learningContextId}/?page_size=500`);\n    });\n  });\n  describe('thumbnailUpload', () => {\n    it('returns url with studioEndpointUrl, learningContextId, and videoId', () => {\n      expect(thumbnailUpload({ studioEndpointUrl, learningContextId, videoId }))\n        .toEqual(`${studioEndpointUrl}/video_images/${learningContextId}/${videoId}`);\n    });\n  });\n  describe('videoTranscripts', () => {\n    it('returns url with studioEndpointUrl and blockId', () => {\n      expect(videoTranscripts({ studioEndpointUrl, blockId }))\n        .toEqual(`${block({ studioEndpointUrl, blockId })}/handler/studio_transcript/translation`);\n    });\n  });\n  describe('downloadVideoTranscriptURL', () => {\n    it('returns url with studioEndpointUrl, blockId and language query', () => {\n      expect(downloadVideoTranscriptURL({ studioEndpointUrl, blockId, language }))\n        .toEqual(`${videoTranscripts({ studioEndpointUrl, blockId })}?language_code=${language}`);\n    });\n  });\n  describe('downloadVideoHandoutUrl', () => {\n    it('returns url with studioEndpointUrl and handout', () => {\n      expect(downloadVideoHandoutUrl({ studioEndpointUrl, handout }))\n        .toEqual(`${studioEndpointUrl}${handout}`);\n    });\n  });\n  describe('courseDetailsUrl', () => {\n    it('returns url with studioEndpointUrl and courseKey', () => {\n      expect(courseDetailsUrl({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/settings/details/${learningContextId}`);\n    });\n  });\n  describe('checkTranscriptsForImport', () => {\n    it('returns url with studioEndpointUrl and parameters', () => {\n      expect(checkTranscriptsForImport({ studioEndpointUrl, parameters }))\n        .toEqual(`${studioEndpointUrl}/transcripts/check?data=${parameters}`);\n    });\n  });\n  describe('replaceTranscript', () => {\n    it('returns url with studioEndpointUrl and parameters', () => {\n      expect(replaceTranscript({ studioEndpointUrl, parameters }))\n        .toEqual(`${studioEndpointUrl}/transcripts/replace?data=${parameters}`);\n    });\n  });\n  describe('courseAdvanceSettings', () => {\n    it('returns url with studioEndpointUrl and learningContextId', () => {\n      expect(courseAdvanceSettings({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/api/contentstore/v0/advanced_settings/${learningContextId}`);\n    });\n  });\n  describe('videoFeatures', () => {\n    it('returns url with studioEndpointUrl and learningContextId', () => {\n      expect(videoFeatures({ studioEndpointUrl }))\n        .toEqual(`${studioEndpointUrl}/video_features/`);\n    });\n  });\n  describe('courseVideos', () => {\n    it('returns url with studioEndpointUrl and learningContextId', () => {\n      expect(courseVideos({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/videos/${learningContextId}`);\n    });\n  });\n  describe('mediaTranscriptURL', () => {\n    it('returns url with studioEndpointUrl', () => {\n      const transcriptUrl = 'this-is-a-transcript';\n      expect(mediaTranscriptURL({ studioEndpointUrl, transcriptUrl }))\n        .toEqual(`${studioEndpointUrl}${transcriptUrl}`);\n    });\n  });\n});\n"],"mappings":"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"}